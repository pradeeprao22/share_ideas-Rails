<!DOCTYPE html>
<html>
  <head>
    <title>Share Your Module</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= action_cable_meta_tag %>

    <%= stylesheet_link_tag 'application' %>
    <%= javascript_include_tag 'application' %>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.47.0/codemirror.css">
  </head>

  <body>

  <% @title = "Welcome to londevs" %>
  
  <div class="bg-info"><%= @title %></div>
  <%= render "shared/navbar" if current_user %>
  <%= render "shared/navbarg" if !current_user %>
   
    <%= yield %>
   <script type="text/javascript">
   function fileDetails() {

       // GET THE FILE INPUT.
       var fi = document.getElementById('file');

       // VALIDATE OR CHECK IF ANY FILE IS SELECTED.
       if (fi.files.length > 0) {

           // THE TOTAL FILE COUNT.
           document.getElementById('fp').innerHTML =
               'Total Files: <b>' + fi.files.length + '</b></br >';

           // RUN A LOOP TO CHECK EACH SELECTED FILE.
           for (var i = 0; i <= fi.files.length - 1; i++) {

               var fname = fi.files.item(i).name;      // THE NAME OF THE FILE.
               var fsize = fi.files.item(i).size;      // THE SIZE OF THE FILE.

               // SHOW THE EXTRACTED DETAILS OF THE FILE.
               document.getElementById('fp').innerHTML =
                   document.getElementById('fp').innerHTML + '<br /> ' +
                       fname + ' (<b>' + fsize + '</b> bytes)';
           }
       }
       else { 
           alert('Please select a file.') 
       }
   }
   </script> 

   <% if flash.any? %>
      <script type="text/javascript">
        <% flash.each do |key, value| %>
          <% type = key.to_s.gsub('alert', 'error').gsub('notice', 'success') %>
          toastr.<%= type %>('<%=  value %>')
        <% end %>
      </script>
   <% end %>
   
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.47.0/codemirror.js"></script>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.47.0/mode/htmlmixed/htmlmixed.js"></script>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.41.0/mode/xml/xml.js"></script>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.41.0/mode/javascript/javascript.js"></script>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.47.0/mode/css/css.js"></script>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.0/mode/ruby/ruby.js"></script>
  
   <%= render "shared/footer" %>

   <script type="text/javascript">
      function getCookie(cookieName) {
        let cookie = {};
        console.log(document.cookie)

        document.cookie.split(';').forEach(
          function(el) {

          let [key,value] = el.split('=');
          
          cookie[key.trim()] = value;
        }
        
        )

        console.log(cookie[cookieName]) 
        return cookie[cookieName];
        
      }
   </script>

  </body>
</html>
